---
// import { team } from "../static/data.json";
// import i18next, { t } from "i18next";

// const lang = i18next.language;
import Container from "../shared/Container.astro";

const teams = [
  {
    name: "1",
  },
  {
    name: "2",
  },
  {
    name: "3",
  },
  {
    name: "4",
  },
  {
    name: "1",
  },
  {
    name: "2",
  },
  {
    name: "3",
  },
  {
    name: "4",
  },
];
---

<>
  <Container>
    <div id="" class="mx-auto max-w-7xl w-full px-5 sm:px-8 md:px-14 lg:px-5">
      <div class="flex flex-col items-center justify-center">
        <h1
          class="font-black text-center text-3xl text-[28px] md:text-[38px] lg:text-[56px] text-white mb-4 lg:leading-[76px] uppercase"
        >
          Bizning Jamoa
        </h1>
      </div>

      <div class="overflow-x-hidden">
        <div class="embla">
          <ul class="embla__container">
            {
              teams.map((item) => (
                <li
                  v-for="item in team"
                  class=" embla__slide flex mt-5 sm:pl-2"
                >
                  <div class="flex flex-col w-[17rem] h-[250px] items-center justify-center group p-6  rounded-3xl bg-[#b1b0af]">
                    <h1 class="text-primary font-nunito text-[20px] md:text-[24px] text-center font-bold mt-3">
                      {item.name}
                    </h1>
                    <h2 class="text-[14px] text-[#7F868B] font-normal font-nunito mt-2 uppercase text-center" />
                    <p class="text-[18px] text-center text-[#676D73] font-bold mt-3 font-nunito ">
                      {" "}
                    </p>
                  </div>
                </li>
              ))
            }
          </ul>
        </div>
      </div>
    </div>
  </Container>
</>

<script>
  import EmblaCarousel from "embla-carousel";
  import AutoPlay from "embla-carousel-autoplay";

  const emblaNode = document.querySelector<HTMLElement>(".embla");
  const autoplayOptions = {
    stopOnInteraction: false,
    delay: 2500,
  };
  const options = { loop: true, align: "start" };
  const plugins = [AutoPlay(autoplayOptions)];

  const embla = EmblaCarousel(emblaNode, options, plugins);
  embla.on("select", () => {
    const lastVisibleIndex = embla.slidesInView().slice(-1)[0];
    if (lastVisibleIndex === embla.slideNodes().length - 1) {
      embla.scrollTo(0);
    }
  });
</script>

<style>
  embla {
    --slide-spacing: 10rem;
    --slide-height: 19rem;
    /* margin-left: 0.5rem; */
    width: 100%;
    overflow: hidden;
  }
  .embla__viewport {
    overflow: hidden;
  }
  .embla__container {
    backface-visibility: hidden;
    display: flex;
    touch-action: pan-y;
    flex-direction: row;
    height: auto;
    /* margin-left: calc(var(--slide-spacing) * -1); */
  }
  .embla__slide {
    flex: none;
    min-width: 0;
    /* padding-left: var(--slide-spacing); */
    position: relative;
    margin: 0rem 10px;
    margin-bottom: 10px;
  }
  .embla__slide__img {
    display: block;
    height: var(--slide-height);
    width: 100%;
    object-fit: cover;
  }
</style>
