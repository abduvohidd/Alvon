---
import Container from "../shared/Container.astro";

const teams = [
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
  {
    img: "/images/course7.webp",
  },
];
---

<>
  <Container>
    <div id="" class="mx-auto max-w-7xl w-full px-5 sm:px-8 md:px-14 lg:px-5">
      <div class="flex flex-col items-center justify-center">
        <h1
          class="text-heading-1 font-semibold text-2xl sm:text-3xl md:text-4xl sm:text-start text-center"
        >
          Bizning Ustozlar
        </h1>
      </div>

      <div class="overflow-x-hidden mt-10">
        <div class="embla">
          <ul class="embla__container">
            {
              teams.map((item) => (
                <li v-for="item in team" class=" embla__slide flex sm:pl-2">
                  <div class="flex flex-col w-[17rem] h-[250px] items-center justify-center group  rounded-3xl bg-[#b1b0af]">
                    <img
                      alt="not found image"
                      src={item.img}
                      loading="lazy"
                      class="w-full h-full rounded-3xl object-cover shrink-0"
                    />
                  </div>
                </li>
              ))
            }
          </ul>
        </div>
      </div>
    </div>
  </Container>
</>

<script>
  import EmblaCarousel from "embla-carousel";
  import AutoPlay from "embla-carousel-autoplay";

  const emblaNode = document.querySelector<HTMLElement>(".embla");
  const autoplayOptions = {
    stopOnInteraction: false,
    delay: 5000,
  };
  const options = { loop: true, align: "start" };
  const plugins = [AutoPlay(autoplayOptions)];

  const embla = EmblaCarousel(emblaNode, options, plugins);
  embla.on("select", () => {
    const lastVisibleIndex = embla.slidesInView().slice(-1)[0];
    if (lastVisibleIndex === embla.slideNodes().length - 1) {
      embla.scrollTo(0);
    }
  });
</script>

<style>
  .embla {
    --slide-spacing: 10rem;
    --slide-height: 19rem;
    /* margin-left: 0.5rem; */
    width: 100%;
    overflow: hidden;
  }
  .embla__viewport {
    overflow: hidden;
  }
  .embla__container {
    backface-visibility: hidden;
    display: flex;
    touch-action: pan-y;
    flex-direction: row;
    height: auto;
    /* margin-left: calc(var(--slide-spacing) * -1); */
  }
  .embla__slide {
    flex: none;
    min-width: 0;
    /* padding-left: var(--slide-spacing); */
    position: relative;
    margin: 0rem 10px;
    margin-bottom: 10px;
  }
  .embla__slide__img {
    display: block;
    height: var(--slide-height);
    width: 100%;
    object-fit: cover;
  }
</style>
